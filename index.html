<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>People Search</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Search people and vehicles in the database system">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="styles/styles.css">
    <script src="scripts/people-search-script.js"></script>
    <script src="scripts/darkmode.js" defer></script>
</head>

<body>
    <div id="container">
        <header>
          <h1>People Search</h1>
          <nav>
            <ul class="nav-menu">
                <li><a href="index.html">People search</a></li>
                <li><a href="vehicle-search.html">Vehicle search</a></li>
                <li><a href="add-vehicle.html">Add a vehicle</a></li>
            </ul>
        </nav>
          
        </header>

        <aside class="sidebar">
            <!-- image from: https://www.flaticon.com/free-icon/magnifying-glass_342359--> 
            <img src="images/search-icon.png" alt="Magnifying glass icon">
        </aside>
      
        <main>
            <button id="theme-toggle" aria-label="Toggle dark mode">
                <span id="theme-icon">ðŸŒ™ Dark Mode Toggle</span>
              </button>

            <form id="people-search-form">
              <label for="name">Search by Driver Name:</label>
              <input type="text" id="name" name="name" maxlength="70" pattern="[A-Za-z ]+" oninput="this.value=this.value.replace(/[^A-Za-z ]/g,'')"  aria-label="Enter driver name">
              
              <label for="license">Search by Driving License Number:</label>
              <input type="text" id="license" name="license" maxlength="15" pattern="[A-Za-z0-9 ]+"  oninput="this.value=this.value.replace(/[^A-Za-z0-9 ]/g,'')" aria-label="Enter license number">
              
              <button type="submit" id="submit-btn">Submit</button>
            </form>
            <div id="message"></div>
                <!-- template for search results (hidden by default) -->
                <template id="result-template">
                    <div class="result">
                        <p><strong class="field-label">Person ID:</strong> <span class="person-id"></span></p>
                        <p><strong class="field-label">Name:</strong> <span class="name"></span></p>
                        <p><strong class="field-label">Address:</strong> <span class="address"></span></p>
                        <p><strong class="field-label">DOB:</strong> <span class="dob"></span></p>
                        <p><strong class="field-label">License Number:</strong> <span class="license-number"></span></p>
                        <p><strong class="field-label">Expiry Date:</strong> <span class="expiry-date"></span></p>
                    </div>
                </template>
                <div id="results"></div>
        </main>
      
        <footer>
            <p>Database Project</p>
        </footer> 
      </div>
</body>
</html>